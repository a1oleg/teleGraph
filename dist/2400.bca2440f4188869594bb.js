"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[2400],{526(e,t,a){a.d(t,{A:()=>R});var i=a(84051),r=a(87357),n=a(76023),o=a(17712),s=a(97040),c=a(82855),l=a(66644),d=a(19822),m=a(36175),f=a(64489);const u=a.p+"diamond.9926e8364655a28cecf3.png";var h=a(20021);let p,A=!0;const b=(0,i.ph)(function({className:e,onMouseMove:t}){const[a,n]=(0,i.J0)(1),s=(0,o.A)(()=>{p&&(clearTimeout(p),p=void 0),p=window.setTimeout(()=>{const e=Date.now();A=!0,(0,d.S0)(()=>{if(!A)return!1;const t=Math.min((Date.now()-e)/1500,1),a=4*(1-function(e){return 1-(1-e)**2}(t));return n(a),A=t<1&&a>1,A},l.RK)},300),A=!1,n(5),t()});return(0,h.Y)("div",{className:(0,r.A)("lIc96mwM",e),children:(0,h.Y)("div",{className:"vIrSZr0L",onMouseMove:s,children:(0,h.Y)(f.A,{speed:a,size:130,tgsUrl:m.w.Diamond,previewUrl:u,nonInteractive:!0,noLoop:!1})})})}),v={root:"KQ61en7j",star:"no11eFNA",star_purple:"NXn1Bbql",starPurple:"NXn1Bbql"},g=(0,i.ph)(function({className:e,color:t,centerShift:a,onMouseMove:n}){const s=(0,i.li)(),c=(0,o.A)(e=>{const t=e.currentTarget.getBoundingClientRect(),i=t.left+t.width/2+a[0],r=t.top+t.height/2+a[1],o=e.clientX-i,c=e.clientY-r,d=Math.max(-1,Math.min(1,o/50)),m=Math.max(-1,Math.min(1,c/50)),f=40*d,u=40*-m;(0,l.RK)(()=>{s.current.style.transform=`scale(1.1) rotateX(${u}deg) rotateY(${f}deg)`}),n()}),d=(0,o.A)(()=>{(0,l.RK)(()=>{s.current.style.transform=""})});return(0,h.Y)("div",{className:(0,r.A)(v.root,e),onMouseMove:c,onMouseLeave:d,children:(0,h.Y)("div",{ref:s,className:(0,r.A)(v.star,v[`star_${t}`]),role:"img","aria-label":"Telegram Stars"})})}),_={root:"gibpMWRW","ai-egg":"cEVHTG9G",aiEgg:"cEVHTG9G",title:"uHi7dzFK",description:"y4GHVbyq",particles:"ptK2PtrY",stickerWrapper:"Kjblw3yb",cocoon:"HvmqkvSX"},F=a.p+"cocoon.2c3b1d957c0ea555413c.webp",y=8*n.$,w={centerShift:[0,-36]},R=(0,i.ph)(function({model:e,sticker:t,color:a,title:n,description:l,isDisabled:d,className:m,modelClassName:f}){const u=(0,i.li)(),p=(0,i.li)(),A=(0,o.A)(()=>{p.current?.()}),v=(0,o.A)(e=>{p.current=e});return(0,h.FD)("div",{className:(0,r.A)(_.root,_[e],m),children:[(0,h.Y)(s.A,{color:a,centerShift:w.centerShift,isDisabled:d,className:_.particles,onRequestAnimation:v}),"swaying-star"===e?(0,h.Y)(g,{className:f,color:a,centerShift:w.centerShift,onMouseMove:A}):"ai-egg"===e?(0,h.Y)("img",{src:F,alt:"",role:"presentation","aria-hidden":"true",className:(0,r.A)(_.cocoon,f),draggable:!1,onMouseMove:A}):"speeding-diamond"===e?(0,h.Y)(b,{className:f,onMouseMove:A}):"sticker"===e&&t&&(0,h.Y)("div",{ref:u,className:(0,r.A)(_.stickerWrapper,f),style:`width: ${y}px; height: ${y}px`,onMouseMove:A,children:(0,h.Y)(c.A,{containerRef:u,sticker:t,size:y,shouldPreloadPreview:!0,shouldLoop:!0})}),(0,h.Y)("h2",{className:_.title,children:n}),(0,h.Y)("div",{className:_.description,children:l})]})})},1526(e,t,a){a.d(t,{A:()=>A});var i=a(84051),r=a(87357),n=a(17142),o=a(14242),s=a(4961),c=a(37661),l=a(39351),d=a(59030),m=a(18276),f=a(9267),u=a(64493);const h={options:"OnCj9kef",option:"tpTHQAUF",active:"U_9MXPG5",wideOption:"dJcJl33b",optionTop:"x9G4lqMf",stackedStars:"etXLebjM",stackedStar:"swttXv9P",optionBottom:"tK7La7L2",moreOptions:"AWXBaWLW",iconDown:"zWYHZJmd"};var p=a(20021);const A=(0,i.ph)(({isActive:e,className:t,options:a,selectedStarOption:A,selectedStarCount:b,starsNeeded:v,onClick:g})=>{const _=(0,d.A)(),F=(0,l.A)(),[y,w,R]=(0,c.A)();(0,i.vJ)(()=>{e||R()},[e]);const[T,S]=(0,i.Kr)(()=>{if(!a)return[void 0,!1];const e=a.reduce((e,t)=>e.stars>t.stars?e:t),t=v&&e.stars<v,i=[];let r=0,n=!1;return a.forEach((e,o)=>{e.isExtended||r++,v&&!t&&e.stars<v||(y||!e.isExtended?i.push({option:e,starsCount:Math.min(r,6),isWide:o===a.length-1}):n=!0)}),[i,n]},[y,a,v]);return(0,p.FD)("div",{className:(0,r.A)(h.options,t),children:[T?.map(({option:e,starsCount:t,isWide:a})=>{const i=T?.length,c=i%2==0,l=e===A;let d;if(e&&"winners"in e){const t=e.winners.find(e=>e.users===b)||e.winners.reduce((e,t)=>t.users>e.users?t:e,e.winners[0]);d=t?.perUserStars}return(0,p.FD)("div",{className:(0,r.A)(h.option,!c&&a&&h.wideOption,l&&h.active),onClick:()=>g?.(e),children:[(0,p.FD)("div",{className:h.optionTop,children:["+",(0,o.Sm)(e.stars),(0,p.Y)("div",{className:h.stackedStars,dir:F.isRtl?"ltr":"rtl",children:Array.from({length:t}).map(()=>(0,p.Y)(f.A,{className:h.stackedStar,type:"gold",size:"big"}))})]}),(0,p.Y)("div",{className:h.optionBottom,children:(0,n.vv)(F,e.amount,e.currency)}),(l||A&&"winners"in A)&&Boolean(d)&&(0,p.Y)("div",{className:h.optionBottom,children:(0,p.Y)("div",{className:h.perUserStars,children:(0,s.A)(_("BoostGift.Stars.PerUser",(0,o.Sm)(d)))})})]},e.stars)}),!y&&S&&(0,p.FD)(u.A,{className:h.moreOptions,isText:!0,noForcedUpperCase:!0,onClick:w,children:[_("Stars.Purchase.ShowMore"),(0,p.Y)(m.A,{className:h.iconDown,name:"down"})]})]})})},5463(e,t,a){a.d(t,{A:()=>f});var i=a(84051),r=a(87357),n=a(18276),o=a(64493),s=a(22720),c=a(22337),l=a(32581);const d={root:"LAh8evux",secondary:"sQZslvAr",topIcon:"jySLtQNG",premiumGradient:"EAkqa_HJ",content:"hrizpMDe",listItems:"Za85nwoG",listItemTitle:"HFaFDlFa",separator:"En1zD2cT"};var m=a(20021);const f=(0,i.ph)(({className:e,isOpen:t,listItemData:a,headerIconName:i,headerIconPremiumGradient:f,header:u,footer:h,buttonText:p,hasBackdrop:A,absoluteCloseButtonColor:b,withSeparator:v,contentClassName:g,onClose:_,onButtonClick:F})=>(0,m.FD)(c.A,{isOpen:t,className:(0,r.A)(d.root,e),contentClassName:(0,r.A)(d.content,g),hasAbsoluteCloseButton:!0,absoluteCloseButtonColor:b||(A?"translucent-white":void 0),onClose:_,children:[i&&(0,m.Y)("div",{className:(0,r.A)(d.topIcon,f&&d.premiumGradient),children:(0,m.Y)(n.A,{name:i})}),u,(0,m.Y)("div",{className:d.listItems,children:a?.map(([e,t,a])=>(0,m.FD)(s.A,{isStatic:!0,multiline:!0,icon:e,className:d.listItem,children:[(0,m.Y)("span",{className:(0,r.A)("title",d.listItemTitle),children:t}),(0,m.Y)("span",{className:"subtitle",children:a})]}))}),v&&(0,m.Y)(l.A,{className:d.separator}),h,Boolean(p)&&(0,m.Y)(o.A,{onClick:F||_,children:p})]}))},34642(e,t,a){a.d(t,{A:()=>f});var i=a(84051),r=a(87357),n=a(59030),o=a(60406),s=a(64493),c=a(22337);var l=a(31722),d=a(20021);const m=`.${l.A.pickerList}`,f=(0,i.ph)(({confirmButtonText:e,isConfirmDisabled:t,shouldAdaptToSearch:a,withFixedHeight:l,onConfirm:f,withPremiumGradient:u,itemsContainerSelector:h=m,...p})=>{const A=(0,n.A)(),b=Boolean(e||f),v=(0,i.li)();return(0,o.A)({containerRef:v,selector:`.modal-content ${h}`,isBottomNotch:b,shouldHideTopNotch:!0},[p.isOpen]),(0,d.FD)(c.A,{...p,dialogRef:v,isSlim:!0,className:(0,r.A)(a&&"WGSZ8u75",l&&"CrEsDylb",p.className),contentClassName:(0,r.A)("FuFYE0AA",p.contentClassName),headerClassName:(0,r.A)("iEptOmIp",p.headerClassName),isCondensedHeader:!0,children:[p.children,b&&(0,d.Y)("div",{className:"HqeDTaSr",children:(0,d.Y)(s.A,{withPremiumGradient:u,onClick:f||p.onClose,color:"primary",disabled:t,children:e||A("Confirm")})})]})})},69881(e,t,a){a.d(t,{A:()=>l});var i=a(84051),r=a(76023),n=a(21849),o=a(18276);var s=a(20021);const c=4*r.$,l=(0,i.ph)(({fromPeer:e,toPeer:t,avatarSize:a=c})=>(0,s.FD)("div",{className:"vlP54poN",children:[(0,s.Y)(n.A,{peer:e,size:a}),(0,s.Y)(o.A,{name:"next",className:"c9sOtQl5"}),(0,s.Y)(n.A,{peer:t,size:a})]}))},70046(e,t,a){a.d(t,{A:()=>f});var i=a(84051),r=a(13439),n=a(87357),o=a(17712),s=a(21849),c=a(64493),l=a(22337),d=a(96802);var m=a(20021);const f=(0,i.ph)(({isOpen:e,title:t,tableData:a,headerAvatarPeer:i,header:f,modalHeader:u,footer:h,buttonText:p,className:A,contentClassName:b,tableClassName:v,hasBackdrop:g,closeButtonColor:_,moreMenuItems:F,onClose:y,onButtonClick:w,withBalanceBar:R,isLowStackPriority:T,currencyInBalanceBar:S})=>{const{openChat:C}=(0,r.ko)(),N=(0,o.A)(e=>{C({id:e}),y()});return(0,m.FD)(l.A,{isOpen:e,hasCloseButton:Boolean(t),hasAbsoluteCloseButton:!t,absoluteCloseButtonColor:_||(g?"translucent-white":void 0),isSlim:!0,header:u,title:t,className:A,contentClassName:(0,n.A)("KYHkJ9Qf",b),moreMenuItems:F,onClose:y,withBalanceBar:R,currencyInBalanceBar:S,isLowStackPriority:T,children:[i&&(0,m.Y)(s.A,{peer:i,size:"jumbo",className:"SHQbPR5Y"}),f,(0,m.Y)(d.A,{tableData:a,className:v,onChatClick:N}),h,p&&(0,m.Y)(c.A,{className:h?void 0:"cSamlkt9",onClick:w||y,children:p})]})})},83240(e,t,a){a.d(t,{A:()=>f});var i=a(84051),r=a(87357),n=a(45470),o=a(62587),s=a(83057),c=a(65843);const l={root:"Ot0dA1yZ",wrapper:"yxSAGAc1",down:"Jcy6cDoc",frame:"Vn81yTTJ",video:"rrVJClLL",placeholder:"ntN4VaZC"},d=a.p+"DeviceFrame.79271ee0fa60a7b6a1aa.svg";var m=a(20021);const f=(0,i.ph)(({videoId:e,videoThumbnail:t,isActive:a,isReverseAnimation:i,isDown:f,index:u,className:h,wrapperClassName:p})=>{const A=(0,o.A)(e?`document${e}`:void 0),b=(0,n.A)(t?.dataUri),v=(0,s.A)(A);return(0,m.Y)("div",{className:(0,r.A)(l.root,h),children:(0,m.FD)("div",{className:(0,r.A)(l.wrapper,i&&l.reverse,f&&l.down,p),id:void 0!==u?`premium_feature_preview_video_${u}`:void 0,children:[(0,m.Y)("img",{src:d,alt:"",className:l.frame,draggable:!1}),!e&&(0,m.Y)("div",{className:l.placeholder}),t&&(0,m.Y)("canvas",{ref:b,className:l.video}),e&&(0,m.Y)(c.A,{canPlay:Boolean(a),className:(0,r.A)(l.video,v),src:A,disablePictureInPicture:!0,playsInline:!0,muted:!0,loop:!0})]})})})},84991(e,t,a){a.d(t,{A:()=>d});var i=a(84051),r=a(87357),n=a(39351),o=a(21849),s=a(18276);const c={root:"hyRfEyRz",top:"p_Ny8jqJ",badge:"QRrryqp4",text:"I5jdPgFL"};var l=a(20021);const d=(0,i.ph)(({peer:e,avatarWebPhoto:t,avatarSize:a,text:i,badgeText:d,badgeIcon:m,className:f,badgeClassName:u,badgeIconClassName:h,textClassName:p,onClick:A})=>{const b=(0,n.A)();return(0,l.FD)("div",{className:(0,r.A)(c.root,A&&c.clickable,f),onClick:A,children:[(0,l.FD)("div",{className:c.top,children:[(0,l.Y)(o.A,{size:a,peer:e,webPhoto:t}),d&&(0,l.FD)("div",{className:(0,r.A)(c.badge,u),dir:b.isRtl?"rtl":"ltr",children:[m&&(0,l.Y)(s.A,{name:m,className:h}),d]})]}),i&&(0,l.Y)("p",{className:(0,r.A)(c.text,p),children:i})]})})},87306(e,t,a){a.d(t,{Ay:()=>v,qS:()=>b});var i=a(84051),r=a(13439),n=a(90709),o=a(70636),s=a(11597),c=a(4875),l=a(56863),d=a(30857),m=a(84080),f=a(56133),u=a(35297);function h(){}var p=a(17712);async function A(e){const t=await(0,c.px)("searchChats",{query:e});if(t)return[...t.accountResultIds,...t.globalResultIds]}function b(e){return async t=>{const a=t.trim();if((0,n.yn)(e)){const t=(0,r.mS)(),i=(0,s.AWZ)(t,e.id),n=i?.members?.map(e=>e.userId)||[];return a?(0,o.PU)({ids:n,query:a,type:"user"}):n}const i=await(0,c.px)("fetchMembers",{chat:e,memberFilter:a?"search":"recent",query:a}),l=i?.members?.map(e=>e.userId)||[];if(!(0,n.Vs)(e))return l;if(!a)return[...l,e.id];const d=(0,o.PU)({ids:[e.id],query:a,type:"chat"});return[...l,...d]}}function v({query:e,queryFn:t=A,defaultValue:a,debounceTimeout:r=300,isDisabled:n}){const o=function(e,t,a){const[r,n]=(0,i.J0)(),{isFrozen:o,updateWhenUnfrozen:s}=function(){const e=(0,i.li)(!1),t=(0,i.hb)(()=>{e.current=!0},[]),a=(0,d.A)(),r=(0,i.hb)(()=>{e.current&&(e.current=!1,a())},[a]);return(0,m.Ay)(h,r),{isFrozen:(0,i.OV)(),updateWhenUnfrozen:t}}(),c=(0,f.A)(t,!0);return(0,u.A)(()=>{o?s():c(()=>{n(e())})},[...a,o]),r}(()=>e,r,[e]),[s,c]=(0,i.J0)(""),b=e?o:e,v=(0,p.A)(t);return{...(0,l.A)(async()=>{if(!b||n)return c(""),Promise.resolve(a);const e=await v(b);return c(b),e},[b,a,v,n],a),currentResultsQuery:s}}},96802(e,t,a){a.d(t,{A:()=>d});var i=a(84051),r=a(13439),n=a(87357),o=a(17712),s=a(10187);const c="wcQqX7mX";var l=a(20021);const d=(0,i.ph)(({tableData:e,className:t,onChatClick:a})=>{const{openChat:i}=(0,r.ko)(),d=(0,o.A)(e=>{a?a(e):i({id:e})});if(e?.length)return(0,l.Y)("div",{className:(0,n.A)("Dn8V4F2q",t),children:e.map(([e,t])=>(0,l.FD)(l.FK,{children:[Boolean(e)&&(0,l.Y)("div",{className:(0,n.A)(c,"ZME9jCp5"),children:e}),(0,l.Y)("div",{className:(0,n.A)(c,"VcKB16uH",!e&&"r35_5Pd5"),children:"object"==typeof t&&"chatId"in t?(0,l.Y)(s.A,{peerId:t.chatId,className:"qy3KZUws",forceShowSelf:!0,withEmojiStatus:t.withEmojiStatus,clickArg:t.chatId,onClick:d}):t})]}))})})},97040(e,t,a){a.d(t,{A:()=>_});var i=a(84051),r=a(87357),n=a(14235),o=a(61157);const s={blue:[0,152/255,234/255],blueGradient:[[1/255,88/255,175/255],[103/255,208/255,1]],purple:[150/255,111/255,254/255],purpleGradient:[[107/255,147/255,1],[228/255,106/255,206/255]],gold:[1,191/255,10/255],goldGradient:[[253/255,235/255,50/255],[215/255,89/255,2/255]]},c={particleCount:5,distanceLimit:1,fadeInTime:.05,minLifetime:3,maxLifetime:3,maxStartTimeDelay:0,selfDestroyTime:3,minSpawnRadius:5,maxSpawnRadius:50},l={width:350,height:230,particleCount:100,color:[0,152/255,234/255],speed:18,baseSize:6,minSpawnRadius:35,maxSpawnRadius:70,distanceLimit:.7,fadeInTime:.25,fadeOutTime:1,minLifetime:4,maxLifetime:6,maxStartTimeDelay:3,edgeFadeZone:50,centerShift:[0,0],accelerationFactor:3,selfDestroyTime:0},d=new Map;function m(e,t){let a=d.get(e);return a||(a=function(e){const t=e.getContext("webgl",{alpha:!0,antialias:!1,preserveDrawingBuffer:!1});if(!t)throw new Error("WebGL not supported");const a=h(t,t.VERTEX_SHADER,f),i=h(t,t.FRAGMENT_SHADER,u);if(!a||!i)throw new Error("Failed to create shaders");const r=function(e,t,a){const i=e.createProgram();if(i){if(e.attachShader(i,t),e.attachShader(i,a),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS))return i;e.deleteProgram(i)}}(t,a,i);if(!r)throw new Error("Failed to create shader program");const s=window.devicePixelRatio||1,c=new Map,m={attributes:{startPosition:t.getAttribLocation(r,"a_startPosition"),velocity:t.getAttribLocation(r,"a_velocity"),startTime:t.getAttribLocation(r,"a_startTime"),lifetime:t.getAttribLocation(r,"a_lifetime"),size:t.getAttribLocation(r,"a_size"),baseOpacity:t.getAttribLocation(r,"a_baseOpacity"),color:t.getAttribLocation(r,"a_color")},uniforms:{resolution:t.getUniformLocation(r,"u_resolution"),time:t.getUniformLocation(r,"u_time"),canvasWidth:t.getUniformLocation(r,"u_canvasWidth"),canvasHeight:t.getUniformLocation(r,"u_canvasHeight"),accelerationFactor:t.getUniformLocation(r,"u_accelerationFactor"),fadeInTime:t.getUniformLocation(r,"u_fadeInTime"),fadeOutTime:t.getUniformLocation(r,"u_fadeOutTime"),edgeFadeZone:t.getUniformLocation(r,"u_edgeFadeZone"),rotationMatrices:t.getUniformLocation(r,"u_rotationMatrices"),spawnCenter:t.getUniformLocation(r,"u_spawnCenter")}};let v,g;function _(e){v&&(t.clear(t.COLOR_BUFFER_BIT),c.forEach(a=>{const i=(e-a.startTime)/1e3;t.uniform1f(m.uniforms.time,i),t.uniform1f(m.uniforms.canvasWidth,a.config.width*s),t.uniform1f(m.uniforms.canvasHeight,a.config.height*s),t.uniform1f(m.uniforms.accelerationFactor,a.config.accelerationFactor),t.uniform1f(m.uniforms.fadeInTime,a.config.fadeInTime),t.uniform1f(m.uniforms.fadeOutTime,a.config.fadeOutTime),t.uniform1f(m.uniforms.edgeFadeZone,a.config.edgeFadeZone*s),t.uniform2f(m.uniforms.spawnCenter,a.centerX*s,a.centerY*s),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.startPosition),t.enableVertexAttribArray(m.attributes.startPosition),t.vertexAttribPointer(m.attributes.startPosition,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.velocity),t.enableVertexAttribArray(m.attributes.velocity),t.vertexAttribPointer(m.attributes.velocity,2,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.startTime),t.enableVertexAttribArray(m.attributes.startTime),t.vertexAttribPointer(m.attributes.startTime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.lifetime),t.enableVertexAttribArray(m.attributes.lifetime),t.vertexAttribPointer(m.attributes.lifetime,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.size),t.enableVertexAttribArray(m.attributes.size),t.vertexAttribPointer(m.attributes.size,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.baseOpacity),t.enableVertexAttribArray(m.attributes.baseOpacity),t.vertexAttribPointer(m.attributes.baseOpacity,1,t.FLOAT,!1,0,0),t.bindBuffer(t.ARRAY_BUFFER,a.buffers.color),t.enableVertexAttribArray(m.attributes.color),t.vertexAttribPointer(m.attributes.color,3,t.FLOAT,!1,0,0),t.drawArrays(t.POINTS,0,a.config.particleCount)}),v=requestAnimationFrame(_))}function F(n){const o=c.get(n);o&&(o.selfDestroyTimeout&&clearTimeout(o.selfDestroyTimeout),Object.values(o.buffers).forEach(e=>{e&&t.deleteBuffer(e)}),c.delete(n),0===c.size&&(void 0!==v&&(cancelAnimationFrame(v),v=void 0),g?.(),c.clear(),t.deleteProgram(r),t.deleteShader(a),t.deleteShader(i),d.delete(e)))}return{addSystem:function(a){const i=(0,n.A)(),d={...l,...a},f={startPosition:t.createBuffer(),velocity:t.createBuffer(),startTime:t.createBuffer(),lifetime:t.createBuffer(),size:t.createBuffer(),baseOpacity:t.createBuffer(),color:t.createBuffer()},u={id:i,config:d,buffers:f,startTime:performance.now(),seed:Math.floor(1e6*Math.random()),centerX:d.width/2+d.centerShift[0],centerY:d.height/2+d.centerShift[1],avgDistance:(d.width/2+d.height/2)/2};return c.set(i,u),function(e){const a=new p(e.seed),{config:i}=e,r=new Float32Array(2*i.particleCount),n=new Float32Array(2*i.particleCount),o=new Float32Array(i.particleCount),c=new Float32Array(i.particleCount),l=new Float32Array(i.particleCount),d=new Float32Array(i.particleCount),m=new Float32Array(3*i.particleCount);for(let t=0;t<i.particleCount;t++){const f=a.next()*Math.PI*2,u=a.nextBetween(i.minSpawnRadius,i.maxSpawnRadius),h=Math.cos(f),p=Math.sin(f),A=e.centerX+h*u,v=e.centerY+p*u;r[2*t]=A*s,r[2*t+1]=v*s,c[t]=a.nextBetween(i.minLifetime,i.maxLifetime),o[t]=a.next()*i.maxStartTimeDelay;const g=a.nextBetween(e.avgDistance*i.distanceLimit*.5,e.avgDistance*i.distanceLimit)/c[t]*s;n[2*t]=h*g,n[2*t+1]=p*g;const _=a.next();l[t]=_<.3?.67*i.baseSize*s:_<.7?1.33*i.baseSize*s:2.2*i.baseSize*s,d[t]=a.nextBetween(.3,.8);const F=b(i.color,a);m[3*t]=F[0],m[3*t+1]=F[1],m[3*t+2]=F[2]}t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startPosition),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.velocity),t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.startTime),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.lifetime),t.bufferData(t.ARRAY_BUFFER,c,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.size),t.bufferData(t.ARRAY_BUFFER,l,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.baseOpacity),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.color),t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW)}(u),function(){let a=0,i=0;c.forEach(e=>{a=Math.max(a,e.config.width),i=Math.max(i,e.config.height)}),0===c.size&&(a=l.width,i=l.height),e.width===a*s&&e.height===i*s||(e.width=a*s,e.height=i*s,e.style.width=a+"px",e.style.height=i+"px"),t.viewport(0,0,e.width,e.height)}(),d.selfDestroyTime&&(u.selfDestroyTimeout=window.setTimeout(()=>{F(i)},1e3*d.selfDestroyTime)),1===c.size&&(t.useProgram(r),t.uniform2f(m.uniforms.resolution,e.width,e.height),t.uniformMatrix2fv(m.uniforms.rotationMatrices,!1,function(){if(!A){const e=18,t=220;A=new Float32Array(4*e);for(let a=0;a<e;a++){const e=t*Math.PI/180*a,i=Math.cos(e),r=Math.sin(e);A[4*a]=i,A[4*a+1]=r,A[4*a+2]=-r,A[4*a+3]=i}}return A}()),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.clearColor(0,0,0,0),g=o.GE.subscribe(()=>{const e=!(0,o.GE)();e&&!v?v=requestAnimationFrame(_):!e&&v&&(cancelAnimationFrame(v),v=void 0)}),v=requestAnimationFrame(_)),()=>F(i)}}}(e),d.set(e,a)),a.addSystem(t)}const f="\n    attribute vec2 a_startPosition;\n    attribute vec2 a_velocity;\n    attribute float a_startTime;\n    attribute float a_lifetime;\n    attribute float a_size;\n    attribute float a_baseOpacity;\n    attribute vec3 a_color;\n\n    uniform vec2 u_resolution;\n    uniform float u_time;\n    uniform float u_canvasWidth;\n    uniform float u_canvasHeight;\n    uniform float u_accelerationFactor;\n    uniform float u_fadeInTime;\n    uniform float u_fadeOutTime;\n    uniform float u_edgeFadeZone;\n    uniform mat2 u_rotationMatrices[18];\n    uniform vec2 u_spawnCenter;\n\n    varying float v_opacity;\n    varying vec3 v_color;\n\n    void main() {\n        float totalAge = u_time - a_startTime;\n        float age = mod(totalAge, a_lifetime);\n\n        // For the initial animation, fade in all particles\n        float globalFadeIn = min(u_time / u_fadeInTime, 1.0);\n\n        float lifeRatio = age / a_lifetime;\n\n        // Calculate rotation based on completed lifecycles\n        float lifecycleCount = floor(totalAge / a_lifetime);\n        int rotationIndex = int(mod(lifecycleCount, 18.0));\n\n        // Get rotation matrix\n        mat2 rotationMatrix = u_rotationMatrices[rotationIndex];\n\n        // Rotate start position around spawn center\n        vec2 startOffset = a_startPosition - u_spawnCenter;\n        vec2 rotatedStartOffset = rotationMatrix * startOffset;\n        vec2 rotatedStartPosition = u_spawnCenter + rotatedStartOffset;\n\n        // Apply rotation matrix to velocity\n        vec2 rotatedVelocity = rotationMatrix * a_velocity;\n\n        // Apply shoot-out effect: fast initial speed that slows down\n        float speedMultiplier = 1.0 + u_accelerationFactor * exp(-3.0 * lifeRatio);\n\n        vec2 position = rotatedStartPosition + rotatedVelocity * age * speedMultiplier;\n\n        float opacity = 1.0;\n        if (lifeRatio < u_fadeInTime / a_lifetime) {\n            opacity = (lifeRatio * a_lifetime) / u_fadeInTime;\n        } else if (lifeRatio > 1.0 - u_fadeOutTime / a_lifetime) {\n            opacity = (1.0 - lifeRatio) * a_lifetime / u_fadeOutTime;\n        }\n        opacity *= a_baseOpacity * globalFadeIn;\n\n        float distToLeft = position.x;\n        float distToRight = u_canvasWidth - position.x;\n        float distToTop = position.y;\n        float distToBottom = u_canvasHeight - position.y;\n        float distToEdge = min(min(distToLeft, distToRight), min(distToTop, distToBottom));\n\n        if (distToEdge < u_edgeFadeZone) {\n            opacity *= distToEdge / u_edgeFadeZone;\n        }\n\n        vec2 clipSpace = ((position / u_resolution) * 2.0 - 1.0) * vec2(1, -1);\n        gl_Position = vec4(clipSpace, 0, 1);\n        gl_PointSize = a_size;\n        v_opacity = opacity;\n        v_color = a_color;\n    }\n",u="\n    precision mediump float;\n\n    varying float v_opacity;\n    varying vec3 v_color;\n\n    void main() {\n        vec2 coord = gl_PointCoord - vec2(0.5);\n\n        // Create a four-pointed star\n        float absX = abs(coord.x);\n        float absY = abs(coord.y);\n\n        // Star parameters\n        float innerSize = 0.12;    // Size of center square\n        float armLength = 0.45;    // Length of star arms\n        float armWidth = 0.08;     // Half-width of star arms at base\n\n        float dist = 1.0; // Default to outside\n\n        // Center square\n        if (absX <= innerSize && absY <= innerSize) {\n            dist = max(absX, absY) - innerSize;\n        }\n        // Horizontal arms (left and right points)\n        else if (absY <= armWidth && absX <= armLength) {\n            // Taper the arms - they get narrower toward the tips\n            float normalizedX = (absX - innerSize) / (armLength - innerSize);\n            float taperFactor = 1.0 - normalizedX * 0.8; // Taper to 20% of original width\n            float currentArmWidth = armWidth * taperFactor;\n            dist = absY - currentArmWidth;\n        }\n        // Vertical arms (top and bottom points)\n        else if (absX <= armWidth && absY <= armLength) {\n            // Taper the arms - they get narrower toward the tips\n            float normalizedY = (absY - innerSize) / (armLength - innerSize);\n            float taperFactor = 1.0 - normalizedY * 0.8; // Taper to 20% of original width\n            float currentArmWidth = armWidth * taperFactor;\n            dist = absX - currentArmWidth;\n        }\n\n        // Use smoothstep for anti-aliasing to reduce subpixel artifacts\n        float alpha = 1.0 - smoothstep(-0.01, 0.01, dist);\n\n        if (alpha <= 0.0) {\n            discard;\n        }\n\n        gl_FragColor = vec4(v_color * v_opacity * alpha, v_opacity * alpha);\n    }\n";function h(e,t,a){const i=e.createShader(t);if(i){if(e.shaderSource(i,a),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;e.deleteShader(i)}}class p{constructor(e){this.seed=e}next(){return this.seed=(9301*this.seed+49297)%233280,this.seed/233280}nextBetween(e,t){return e+(t-e)*this.next()}}let A;function b(e,t){if(Array.isArray(e[0])){const[a,i]=e;return[t.nextBetween(a[0],i[0]),t.nextBetween(a[1],i[1]),t.nextBetween(a[2],i[2])]}return e}var v=a(20021);const g=[0,-36],_=(0,i.ph)(({color:e="purple",centerShift:t=g,isDisabled:a,className:n,onRequestAnimation:o})=>{const l=(0,i.li)(),d=(0,i.li)(0);return(0,i.Nf)(()=>{if(!a)return m(l.current,{color:s[`${e}Gradient`],centerShift:t})},[t,e,a]),(0,i.vJ)(()=>{o&&o(()=>{if(a)return;const i=Date.now();i-d.current<8||(d.current=i,m(l.current,{color:s[`${e}Gradient`],centerShift:t,...c}))})},[t,e,a,o]),(0,v.Y)("canvas",{ref:l,className:(0,r.A)("hHHgpBRr",n)})})}}]);
//# sourceMappingURL=2400.bca2440f4188869594bb.js.map