{"version":3,"file":"5985.6957dbfe60ba74760f4b.js","mappings":"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","sources":["webpack://telegram-t/./src/hooks/useFrozenProps.ts","webpack://telegram-t/./src/hooks/useContextMenuHandlers.ts","webpack://telegram-t/./src/util/directInputManager.ts","webpack://telegram-t/./src/util/trapFocus.ts","webpack://telegram-t/./src/hooks/useLayoutEffectWithPrevDeps.ts","webpack://telegram-t/./src/hooks/element/useIsTopmostBalanceBarModal.ts","webpack://telegram-t/./src/global/helpers/payments.ts"],"sourcesContent":["import { useRef } from '../lib/teact/teact';\n\nexport default function useFrozenProps<T extends Record<string, unknown>>(\n  props: T,\n  shouldFreeze: boolean,\n  alwaysFreshKeys?: readonly (keyof T)[],\n): T {\n  const frozenRef = useRef<T>(props);\n\n  if (!shouldFreeze) {\n    frozenRef.current = props;\n  } else if (alwaysFreshKeys?.length) {\n    const updates: Partial<T> = {};\n    for (const key of alwaysFreshKeys) {\n      updates[key] = props[key];\n    }\n    frozenRef.current = {\n      ...frozenRef.current,\n      ...updates,\n    };\n  }\n\n  return frozenRef.current;\n}\n","import type { ElementRef } from '../lib/teact/teact';\nimport { useEffect, useState } from '../lib/teact/teact';\nimport { addExtraClass, removeExtraClass } from '../lib/teact/teact-dom';\n\nimport type { IAnchorPosition } from '../types';\nimport type { Signal } from '../util/signals';\n\nimport { requestMutation } from '../lib/fasterdom/fasterdom';\nimport { IS_IOS, IS_PWA, IS_TOUCH_ENV } from '../util/browser/windowEnvironment';\nimport useLastCallback from './useLastCallback';\n\nconst LONG_TAP_DURATION_MS = 200;\nconst IOS_PWA_CONTEXT_MENU_DELAY_MS = 100;\n\nfunction stopEvent(e: Event) {\n  e.stopImmediatePropagation();\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nconst useContextMenuHandlers = (\n  elementRef: ElementRef<HTMLElement>,\n  isMenuDisabled?: boolean,\n  shouldDisableOnLink?: boolean,\n  shouldDisableOnLongTap?: boolean,\n  getIsReady?: Signal<boolean>,\n  shouldDisablePropagation?: boolean,\n) => {\n  const [isContextMenuOpen, setIsContextMenuOpen] = useState(false);\n  const [contextMenuAnchor, setContextMenuAnchor] = useState<IAnchorPosition | undefined>(undefined);\n  const [contextMenuTarget, setContextMenuTarget] = useState<HTMLElement | undefined>(undefined);\n\n  const handleBeforeContextMenu = useLastCallback((e: React.MouseEvent) => {\n    if (!isMenuDisabled && e.button === 2) {\n      requestMutation(() => {\n        addExtraClass(e.target as HTMLElement, 'no-selection');\n      });\n    }\n  });\n\n  const handleContextMenu = useLastCallback((e: React.MouseEvent) => {\n    requestMutation(() => {\n      removeExtraClass(e.target as HTMLElement, 'no-selection');\n    });\n\n    if (isMenuDisabled || (shouldDisableOnLink && (e.target as HTMLElement).matches('a[href]'))) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (contextMenuAnchor) {\n      return;\n    }\n\n    setIsContextMenuOpen(true);\n    setContextMenuAnchor({ x: e.clientX, y: e.clientY });\n    setContextMenuTarget(e.target as HTMLElement);\n  });\n\n  const handleContextMenuClose = useLastCallback(() => {\n    setIsContextMenuOpen(false);\n  });\n\n  const handleContextMenuHide = useLastCallback(() => {\n    setContextMenuAnchor(undefined);\n  });\n\n  // Support context menu on touch devices\n  useEffect(() => {\n    if (isMenuDisabled || !IS_TOUCH_ENV || shouldDisableOnLongTap || (getIsReady && !getIsReady())) {\n      return undefined;\n    }\n\n    const element = elementRef.current;\n    if (!element) {\n      return undefined;\n    }\n\n    let timer: number | undefined;\n\n    const clearLongPressTimer = () => {\n      if (timer) {\n        clearTimeout(timer);\n        timer = undefined;\n      }\n    };\n\n    const emulateContextMenuEvent = (originalEvent: TouchEvent) => {\n      clearLongPressTimer();\n\n      const { clientX, clientY, target } = originalEvent.touches[0];\n\n      if (contextMenuAnchor || (shouldDisableOnLink && (target as HTMLElement).matches('a[href]'))) {\n        return;\n      }\n\n      // Temporarily intercept and clear the next click\n      document.addEventListener('touchend', (e) => {\n        // On iOS in PWA mode, the context menu may cause click-through to the element in the menu upon opening\n        if (IS_IOS && IS_PWA) {\n          setTimeout(() => {\n            document.removeEventListener('mousedown', stopEvent, {\n              capture: true,\n            });\n            document.removeEventListener('click', stopEvent, {\n              capture: true,\n            });\n          }, IOS_PWA_CONTEXT_MENU_DELAY_MS);\n        }\n        stopEvent(e);\n      }, {\n        once: true,\n        capture: true,\n      });\n\n      // On iOS15, in PWA mode, the context menu immediately closes after opening\n      if (IS_PWA && IS_IOS) {\n        document.addEventListener('mousedown', stopEvent, {\n          once: true,\n          capture: true,\n        });\n        document.addEventListener('click', stopEvent, {\n          once: true,\n          capture: true,\n        });\n      }\n\n      setIsContextMenuOpen(true);\n      setContextMenuAnchor({ x: clientX, y: clientY });\n    };\n\n    const startLongPressTimer = (e: TouchEvent) => {\n      if (isMenuDisabled) {\n        return;\n      }\n      if (shouldDisablePropagation) e.stopPropagation();\n      clearLongPressTimer();\n\n      timer = window.setTimeout(() => emulateContextMenuEvent(e), LONG_TAP_DURATION_MS);\n    };\n\n    // @perf Consider event delegation\n    element.addEventListener('touchstart', startLongPressTimer, { passive: true });\n    element.addEventListener('touchcancel', clearLongPressTimer, true);\n    element.addEventListener('touchend', clearLongPressTimer, true);\n    element.addEventListener('touchmove', clearLongPressTimer, { passive: true });\n\n    return () => {\n      clearLongPressTimer();\n      element.removeEventListener('touchstart', startLongPressTimer);\n      element.removeEventListener('touchcancel', clearLongPressTimer, true);\n      element.removeEventListener('touchend', clearLongPressTimer, true);\n      element.removeEventListener('touchmove', clearLongPressTimer);\n    };\n  }, [\n    contextMenuAnchor, isMenuDisabled, shouldDisableOnLongTap, elementRef, shouldDisableOnLink, getIsReady,\n    shouldDisablePropagation,\n  ]);\n\n  return {\n    isContextMenuOpen,\n    contextMenuAnchor,\n    contextMenuTarget,\n    handleBeforeContextMenu,\n    handleContextMenu,\n    handleContextMenuClose,\n    handleContextMenuHide,\n  };\n};\n\nexport default useContextMenuHandlers;\n","let counter = 0;\n\nexport function disableDirectTextInput() {\n  counter += 1;\n}\n\nexport function enableDirectTextInput() {\n  counter -= 1;\n}\n\nexport function getIsDirectTextInputDisabled() {\n  return counter > 0;\n}\n","export default function trapFocus(element: HTMLElement) {\n  function handleKeyDown(e: KeyboardEvent) {\n    if (e.key !== 'Tab') {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const focusableElements = Array.from(\n      element.querySelectorAll<HTMLElement>('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'),\n    );\n    if (!focusableElements.length) {\n      return;\n    }\n\n    const currentFocusedIndex = focusableElements.findIndex((em) => em.isSameNode(document.activeElement));\n    let newFocusedIndex = 0;\n    if (currentFocusedIndex >= 0) {\n      if (e.shiftKey) {\n        newFocusedIndex = currentFocusedIndex > 0\n          ? currentFocusedIndex - 1\n          : focusableElements.length - 1;\n      } else {\n        newFocusedIndex = currentFocusedIndex < focusableElements.length - 1\n          ? currentFocusedIndex + 1\n          : 0;\n      }\n    }\n\n    focusableElements[newFocusedIndex].focus();\n  }\n\n  document.addEventListener('keydown', handleKeyDown, false);\n\n  return () => {\n    document.removeEventListener('keydown', handleKeyDown, false);\n  };\n}\n","import { useLayoutEffect, useRef } from '../lib/teact/teact';\n\nconst useLayoutEffectWithPrevDeps = <const T extends readonly any[]>(\n  cb: (args: T | readonly []) => void, dependencies: T, debugKey?: string,\n) => {\n  const prevDepsRef = useRef<T>();\n\n  return useLayoutEffect(() => {\n    const prevDeps = prevDepsRef.current;\n    prevDepsRef.current = dependencies;\n\n    return cb(prevDeps || []);\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, dependencies, debugKey);\n};\n\nexport default useLayoutEffectWithPrevDeps;\n","import { useEffect, useState } from '../../lib/teact/teact';\n\nimport { createCallbackManager } from '../../util/callbacks';\n\nconst BALANCE_BAR_MODAL_SELECTOR = '.Modal.with-balance-bar';\n\nconst balanceBarCallbacks = createCallbackManager();\n\nexport default function useIsTopmostBalanceBarModal(\n  ref: { current?: HTMLElement },\n  isActive?: boolean,\n) {\n  const [isTopmost, setIsTopmost] = useState(true);\n\n  useEffect(() => {\n    if (!isActive) return undefined;\n\n    const updateIsTopmost = () => {\n      setIsTopmost(checkIsTopmostBalanceBarModal(ref.current));\n    };\n\n    updateIsTopmost();\n\n    const unsubscribe = balanceBarCallbacks.addCallback(updateIsTopmost);\n    balanceBarCallbacks.runCallbacks();\n\n    return () => {\n      unsubscribe();\n      balanceBarCallbacks.runCallbacks();\n    };\n  }, [isActive, ref]);\n\n  return isTopmost;\n}\n\nfunction checkIsTopmostBalanceBarModal(element?: HTMLElement) {\n  if (!element) return true;\n\n  const parentModal = element.closest(BALANCE_BAR_MODAL_SELECTOR);\n  if (!parentModal) return true;\n\n  const allBalanceBarModals = document.querySelectorAll(BALANCE_BAR_MODAL_SELECTOR);\n  if (allBalanceBarModals.length <= 1) {\n    return true;\n  }\n\n  let topmostModal: Element | undefined;\n  let highestZIndex = -Infinity;\n\n  allBalanceBarModals.forEach((modal) => {\n    const zIndex = parseInt(getComputedStyle(modal).zIndex, 10) || 0;\n    if (zIndex >= highestZIndex) {\n      highestZIndex = zIndex;\n      topmostModal = modal;\n    }\n  });\n\n  return parentModal === topmostModal;\n}\n","import type {\n  ApiInputInvoice,\n  ApiInputSavedStarGift,\n  ApiMessage,\n  ApiRequestInputInvoice,\n  ApiRequestInputSavedStarGift,\n  ApiStarsAmount,\n  ApiStarsTransaction,\n  ApiTypeCurrencyAmount,\n} from '../../api/types';\nimport type { CustomPeer } from '../../types';\nimport type { LangFn } from '../../util/localization';\nimport type { GlobalState } from '../types';\n\nimport { STARS_CURRENCY_CODE, TON_CURRENCY_CODE } from '../../config';\nimport { areRecordsShallowEqual } from '../../util/areShallowEqual';\nimport { convertTonFromNanos } from '../../util/formatCurrency';\nimport { selectChat, selectPeer, selectUser } from '../selectors';\n\nexport function getRequestInputInvoice<T extends GlobalState>(\n  global: T, inputInvoice: ApiInputInvoice,\n): ApiRequestInputInvoice | undefined {\n  if (inputInvoice.type === 'slug') return inputInvoice;\n\n  if (inputInvoice.type === 'stargiftResale') {\n    const {\n      slug,\n      peerId,\n    } = inputInvoice;\n    const peer = selectPeer(global, peerId);\n\n    if (!peer) return undefined;\n\n    return {\n      type: 'stargiftResale',\n      slug,\n      peer,\n      currency: inputInvoice.currency,\n    };\n  }\n\n  if (inputInvoice.type === 'stargift') {\n    const {\n      peerId, shouldHideName, giftId, message, shouldUpgrade,\n    } = inputInvoice;\n    const peer = selectPeer(global, peerId);\n\n    if (!peer) return undefined;\n\n    return {\n      type: 'stargift',\n      peer,\n      shouldHideName,\n      giftId,\n      message,\n      shouldUpgrade,\n    };\n  }\n\n  if (inputInvoice.type === 'starsgift') {\n    const {\n      userId, stars, amount, currency,\n    } = inputInvoice;\n    const user = selectUser(global, userId);\n\n    if (!user) return undefined;\n\n    return {\n      type: 'stars',\n      purpose: {\n        type: 'starsgift',\n        user,\n        stars,\n        amount,\n        currency,\n      },\n    };\n  }\n\n  if (inputInvoice.type === 'stars') {\n    const {\n      stars, amount, currency, spendPurposePeerId,\n    } = inputInvoice;\n\n    const spendPurposePeer = spendPurposePeerId ? selectPeer(global, spendPurposePeerId) : undefined;\n\n    return {\n      type: 'stars',\n      purpose: {\n        type: 'stars',\n        stars,\n        amount,\n        currency,\n        spendPurposePeer,\n      },\n    };\n  }\n\n  if (inputInvoice.type === 'chatInviteSubscription') {\n    const { hash } = inputInvoice;\n\n    return {\n      type: 'chatInviteSubscription',\n      hash,\n    };\n  }\n\n  if (inputInvoice.type === 'message') {\n    const chat = selectChat(global, inputInvoice.chatId);\n    if (!chat) {\n      return undefined;\n    }\n    return {\n      type: 'message',\n      chat,\n      messageId: inputInvoice.messageId,\n    };\n  }\n\n  if (inputInvoice.type === 'premiumGiftStars') {\n    const {\n      months, userId, message,\n    } = inputInvoice;\n    const user = selectUser(global, userId);\n\n    if (!user) return undefined;\n\n    return {\n      type: 'premiumGiftStars',\n      months,\n      message,\n      user,\n    };\n  }\n\n  if (inputInvoice.type === 'giftcode') {\n    const {\n      userIds, boostChannelId, amount, currency, option, message,\n    } = inputInvoice;\n    const users = userIds.map((id) => selectUser(global, id)).filter(Boolean);\n    const boostChannel = boostChannelId ? selectChat(global, boostChannelId) : undefined;\n\n    return {\n      type: 'giveaway',\n      option,\n      purpose: {\n        type: 'giftcode',\n        amount,\n        currency,\n        users,\n        boostChannel,\n        message,\n      },\n    };\n  }\n\n  if (inputInvoice.type === 'starsgiveaway') {\n    const {\n      chatId, additionalChannelIds, amount, currency, untilDate, areWinnersVisible, countries,\n      isOnlyForNewSubscribers, prizeDescription, stars, users,\n    } = inputInvoice;\n    const chat = selectChat(global, chatId);\n    if (!chat) {\n      return undefined;\n    }\n    const additionalChannels = additionalChannelIds?.map((id) => selectChat(global, id)).filter(Boolean);\n\n    return {\n      type: 'starsgiveaway',\n      purpose: {\n        type: 'starsgiveaway',\n        amount,\n        currency,\n        chat,\n        additionalChannels,\n        untilDate,\n        areWinnersVisible,\n        countries,\n        isOnlyForNewSubscribers,\n        prizeDescription,\n        stars,\n        users,\n      },\n    };\n  }\n\n  if (inputInvoice.type === 'giveaway') {\n    const {\n      chatId, additionalChannelIds, amount, currency, option, untilDate, areWinnersVisible, countries,\n      isOnlyForNewSubscribers, prizeDescription,\n    } = inputInvoice;\n    const chat = selectChat(global, chatId);\n    if (!chat) {\n      return undefined;\n    }\n    const additionalChannels = additionalChannelIds?.map((id) => selectChat(global, id)).filter(Boolean);\n\n    return {\n      type: 'giveaway',\n      option,\n      purpose: {\n        type: 'giveaway',\n        amount,\n        currency,\n        chat,\n        additionalChannels,\n        untilDate,\n        areWinnersVisible,\n        countries,\n        isOnlyForNewSubscribers,\n        prizeDescription,\n      },\n    };\n  }\n\n  if (inputInvoice.type === 'stargiftUpgrade') {\n    const { inputSavedGift, shouldKeepOriginalDetails } = inputInvoice;\n    const savedGift = getRequestInputSavedStarGift(global, inputSavedGift);\n    if (!savedGift) return undefined;\n\n    return {\n      type: 'stargiftUpgrade',\n      inputSavedGift: savedGift,\n      shouldKeepOriginalDetails,\n    };\n  }\n\n  if (inputInvoice.type === 'stargiftTransfer') {\n    const { inputSavedGift, recipientId } = inputInvoice;\n    const savedGift = getRequestInputSavedStarGift(global, inputSavedGift);\n    const peer = selectPeer(global, recipientId);\n    if (!savedGift || !peer) return undefined;\n\n    return {\n      type: 'stargiftTransfer',\n      inputSavedGift: savedGift,\n      recipient: peer,\n    };\n  }\n\n  if (inputInvoice.type === 'stargiftDropOriginalDetails') {\n    const { inputSavedGift } = inputInvoice;\n    const savedGift = getRequestInputSavedStarGift(global, inputSavedGift);\n    if (!savedGift) return undefined;\n\n    return {\n      type: 'stargiftDropOriginalDetails',\n      inputSavedGift: savedGift,\n    };\n  }\n\n  if (inputInvoice.type === 'stargiftPrepaidUpgrade') {\n    const { peerId, hash } = inputInvoice;\n    const peer = selectPeer(global, peerId);\n    if (!peer) return undefined;\n\n    return {\n      type: 'stargiftPrepaidUpgrade',\n      peer,\n      hash,\n    };\n  }\n\n  if (inputInvoice.type === 'stargiftAuctionBid') {\n    const {\n      giftId, bidAmount, peerId, message, shouldHideName, isUpdateBid,\n    } = inputInvoice;\n    const peer = peerId ? selectPeer(global, peerId) : undefined;\n\n    return {\n      type: 'stargiftAuctionBid',\n      giftId,\n      bidAmount,\n      peer,\n      message,\n      shouldHideName,\n      isUpdateBid,\n    };\n  }\n\n  return undefined;\n}\n\nexport function getRequestInputSavedStarGift<T extends GlobalState>(\n  global: T, inputGift: ApiInputSavedStarGift,\n): ApiRequestInputSavedStarGift | undefined {\n  if (inputGift.type === 'user') return inputGift;\n\n  if (inputGift.type === 'chat') {\n    const chat = selectChat(global, inputGift.chatId);\n    if (!chat) return undefined;\n\n    return {\n      type: 'chat',\n      chat,\n      savedId: inputGift.savedId,\n    };\n  }\n\n  return undefined;\n}\n\nexport function shouldUseCustomPeer(transaction: ApiStarsTransaction) {\n  return transaction.peer.type !== 'peer' || Boolean(transaction.isPostsSearch);\n}\n\nexport function buildStarsTransactionCustomPeer(\n  transaction: ApiStarsTransaction,\n): CustomPeer {\n  const { peer } = transaction;\n  const isForTon = transaction.amount.currency === TON_CURRENCY_CODE;\n\n  if (transaction.isPostsSearch) {\n    return {\n      avatarIcon: 'search',\n      isCustomPeer: true,\n      title: '',\n      peerColorId: 5,\n    };\n  }\n\n  if (peer.type === 'appStore') {\n    return {\n      avatarIcon: 'star',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.AppleTopUp.Title',\n      subtitleKey: 'Stars.Intro.Transaction.AppleTopUp.Subtitle',\n      peerColorId: 5,\n    };\n  }\n\n  if (peer.type === 'playMarket') {\n    return {\n      avatarIcon: 'star',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.GoogleTopUp.Title',\n      subtitleKey: 'Stars.Intro.Transaction.GoogleTopUp.Subtitle',\n      peerColorId: 3,\n    };\n  }\n\n  if (peer.type === 'fragment') {\n    if (isForTon) {\n      return {\n        avatarIcon: 'fragment',\n        isCustomPeer: true,\n        titleKey: 'Stars.Gift.Received.Title',\n        subtitleKey: 'Stars.Intro.Transaction.Gift.UnknownUser',\n        customPeerAvatarColor: '#000000',\n      };\n    }\n    return {\n      avatarIcon: 'fragment',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.FragmentTopUp.Title',\n      subtitleKey: 'Stars.Intro.Transaction.FragmentTopUp.Subtitle',\n      customPeerAvatarColor: '#000000',\n    };\n  }\n\n  if (peer.type === 'premiumBot') {\n    return {\n      avatarIcon: 'star',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.PremiumBotTopUp.Title',\n      subtitleKey: 'Stars.Intro.Transaction.PremiumBotTopUp.Subtitle',\n      peerColorId: 1,\n      withPremiumGradient: true,\n    };\n  }\n\n  if (peer.type === 'ads') {\n    return {\n      avatarIcon: 'star',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.TelegramAds.Title',\n      subtitleKey: 'Stars.Intro.Transaction.TelegramAds.Subtitle',\n      peerColorId: 2,\n    };\n  }\n\n  if (peer.type === 'api') {\n    return {\n      avatarIcon: 'bots',\n      isCustomPeer: true,\n      titleKey: 'Stars.Intro.Transaction.TelegramBotApi.Title',\n      subtitleKey: 'Stars.Intro.Transaction.TelegramBotApi.Subtitle',\n      peerColorId: 4,\n    };\n  }\n\n  return {\n    avatarIcon: 'star',\n    isCustomPeer: true,\n    titleKey: 'Stars.Intro.Transaction.Unsupported.Title',\n    subtitleKey: 'Stars.Intro.Transaction.Unsupported.Title',\n    peerColorId: 0,\n  };\n}\n\nexport function formatStarsTransactionAmount(lang: LangFn, currencyAmount: ApiTypeCurrencyAmount) {\n  if (currencyAmount.currency === STARS_CURRENCY_CODE) {\n    const amount = currencyAmount.amount + currencyAmount.nanos / 1e9;\n    if (amount < 0) {\n      return `- ${lang.number(Math.abs(amount))}`;\n    }\n\n    return `+ ${lang.number(amount)}`;\n  }\n\n  if (currencyAmount.currency === TON_CURRENCY_CODE) {\n    const amount = convertTonFromNanos(currencyAmount.amount);\n    const absAmount = Math.abs(amount);\n\n    if (amount < 0) {\n      return `- ${lang.preciseNumber(absAmount)}`;\n    }\n\n    return `+ ${lang.preciseNumber(absAmount)}`;\n  }\n\n  return undefined;\n}\n\nexport function formatStarsAmount(lang: LangFn, starsAmount: ApiStarsAmount) {\n  return lang.number(starsAmount.amount + starsAmount.nanos / 1e9);\n}\n\nexport function getStarsTransactionFromGift(message: ApiMessage): ApiStarsTransaction | undefined {\n  const { action } = message.content;\n\n  if (action?.type === 'giftStars') {\n    const { transactionId, stars } = action;\n\n    return {\n      id: transactionId,\n      amount: {\n        currency: STARS_CURRENCY_CODE,\n        amount: stars,\n        nanos: 0,\n      },\n      peer: {\n        type: 'peer',\n        id: message.isOutgoing ? message.chatId : (message.senderId || message.chatId),\n      },\n      date: message.date,\n      isGift: true,\n      isMyGift: message.isOutgoing || undefined,\n    };\n  }\n\n  if (action?.type === 'giftTon') {\n    const { transactionId, cryptoAmount } = action;\n\n    return {\n      id: transactionId,\n      amount: {\n        currency: TON_CURRENCY_CODE,\n        amount: cryptoAmount,\n      },\n      peer: {\n        type: 'fragment',\n      },\n      date: message.date,\n      isGift: true,\n      isMyGift: message.isOutgoing || undefined,\n    };\n  }\n\n  return undefined;\n}\n\nexport function getPrizeStarsTransactionFromGiveaway(message: ApiMessage): ApiStarsTransaction | undefined {\n  const { action } = message.content;\n\n  if (action?.type !== 'prizeStars') return undefined;\n\n  const { transactionId, stars, boostPeerId } = action;\n\n  return {\n    id: transactionId,\n    amount: {\n      currency: STARS_CURRENCY_CODE,\n      amount: stars,\n      nanos: 0,\n    },\n    peer: {\n      type: 'peer',\n      id: boostPeerId,\n    },\n    date: message.date,\n    giveawayPostId: message.id,\n  };\n}\n\nexport function areInputSavedGiftsEqual(one: ApiInputSavedStarGift, two: ApiInputSavedStarGift) {\n  return areRecordsShallowEqual(one, two);\n}\n"],"names":["useFrozenProps","props","shouldFreeze","alwaysFreshKeys","frozenRef","useRef","length","updates","key","current","stopEvent","e","stopImmediatePropagation","preventDefault","stopPropagation","useContextMenuHandlers","elementRef","isMenuDisabled","shouldDisableOnLink","shouldDisableOnLongTap","getIsReady","shouldDisablePropagation","isContextMenuOpen","setIsContextMenuOpen","useState","contextMenuAnchor","setContextMenuAnchor","undefined","contextMenuTarget","setContextMenuTarget","handleBeforeContextMenu","useLastCallback","button","requestMutation","addExtraClass","target","handleContextMenu","removeExtraClass","matches","x","clientX","y","clientY","handleContextMenuClose","handleContextMenuHide","useEffect","IS_TOUCH_ENV","element","timer","clearLongPressTimer","clearTimeout","startLongPressTimer","window","setTimeout","originalEvent","touches","document","addEventListener","IS_IOS","IS_PWA","removeEventListener","capture","once","emulateContextMenuEvent","passive","counter","disableDirectTextInput","enableDirectTextInput","getIsDirectTextInputDisabled","trapFocus","handleKeyDown","focusableElements","Array","from","querySelectorAll","currentFocusedIndex","findIndex","em","isSameNode","activeElement","newFocusedIndex","shiftKey","focus","useLayoutEffectWithPrevDeps","cb","dependencies","debugKey","prevDepsRef","useLayoutEffect","prevDeps","BALANCE_BAR_MODAL_SELECTOR","balanceBarCallbacks","createCallbackManager","useIsTopmostBalanceBarModal","ref","isActive","isTopmost","setIsTopmost","updateIsTopmost","parentModal","closest","allBalanceBarModals","topmostModal","highestZIndex","forEach","modal","zIndex","parseInt","getComputedStyle","checkIsTopmostBalanceBarModal","unsubscribe","addCallback","runCallbacks","getRequestInputInvoice","global","inputInvoice","type","slug","peerId","peer","selectPeer","currency","shouldHideName","giftId","message","shouldUpgrade","userId","stars","amount","user","selectUser","purpose","spendPurposePeerId","spendPurposePeer","hash","chat","selectChat","chatId","messageId","months","userIds","boostChannelId","option","users","map","id","filter","Boolean","boostChannel","additionalChannelIds","untilDate","areWinnersVisible","countries","isOnlyForNewSubscribers","prizeDescription","additionalChannels","inputSavedGift","shouldKeepOriginalDetails","savedGift","getRequestInputSavedStarGift","recipientId","recipient","bidAmount","isUpdateBid","inputGift","savedId","shouldUseCustomPeer","transaction","isPostsSearch","buildStarsTransactionCustomPeer","isForTon","TON_CURRENCY_CODE","avatarIcon","isCustomPeer","title","peerColorId","titleKey","subtitleKey","customPeerAvatarColor","withPremiumGradient","formatStarsTransactionAmount","lang","currencyAmount","STARS_CURRENCY_CODE","nanos","number","Math","abs","convertTonFromNanos","absAmount","preciseNumber","formatStarsAmount","starsAmount","getStarsTransactionFromGift","action","content","transactionId","isOutgoing","senderId","date","isGift","isMyGift","cryptoAmount","getPrizeStarsTransactionFromGiveaway","boostPeerId","giveawayPostId","areInputSavedGiftsEqual","one","two","areRecordsShallowEqual"],"ignoreList":[],"sourceRoot":""}